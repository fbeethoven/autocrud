/* This code is autogenerated by Autocrud {{ .Version }} */

package controller

import (
    "net/http"

    "github.com/gin-gonic/gin"

    "{{ .ProjectName }}/src/models"
    "{{ .ProjectName }}/src/dao"
)

type {{ .Resource }}Controller struct {
    {{ .Resource }}DAO dao.{{ .Resource}}DAO
}

func New{{ .Resource }}Controller() *{{ .Resource }}Controller {
    return &{{ .Resource }}Controller{
        {{ .Resource }}DAO: dao.{{ .Resource }}DAO{},
    }
}

func (c {{ .Resource }}Controller) GetResource(ctx *gin.Context) {
    ctx.JSON(http.StatusOK, make([]models.{{ .Resource }}, 0))
}

func (c {{ .Resource }}Controller) GetResourceById(ctx *gin.Context) {
    userId := ctx.Param("id")
    ctx.JSON(http.StatusOK, gin.H{
        "{{ .Resource }}Id": userId,
    })
}

func (c {{ .Resource }}Controller) RegisterResource(controller *Controller) {
    controller.Resources = append(controller.Resources, c)

    controller.Router.GET("/{{ .ResourceUrl }}", c.GetResource)
    controller.Router.GET("/{{ .ResourceUrl }}/:id", c.GetResourceById)
}
